---
import AllProjects from '@/components/AllProjects';
import { Footer } from '@/partials/Footer';
import { Navbar } from '@/partials/Navbar';
import Base from '@/templates/Base.astro';
import { AppConfig } from '@/utils/AppConfig';
import { getAllProjects } from '@/utils/Projects';

const projects = getAllProjects();
---

<Base
  head={{
    title: `Projects - ${AppConfig.site_name}`,
    description:
      'Explore my portfolio of projects across various technologies and categories',
  }}
>
  <Navbar client:load />

  <main class='min-h-screen bg-neutral-900 pt-20'>
    <div class='container mx-auto px-4 py-12 sm:px-6 lg:px-8'>
      <div class='mb-8 flex items-center justify-between'>
        <h1 class='text-3xl font-bold text-white sm:text-4xl'>
          All <span
            class='bg-gradient-to-r from-emerald-500 to-emerald-700 bg-clip-text text-transparent'
            >Projects
          </span>
        </h1>
        <a
          href='/#projects-section'
          class='flex items-center text-emerald-400 transition-colors duration-200 hover:text-emerald-300'
        >
          <svg
            xmlns='http://www.w3.org/2000/svg'
            class='mr-1 h-5 w-5'
            viewBox='0 0 20 20'
            fill='currentColor'
          >
            <path
              fill-rule='evenodd'
              d='M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z'
              clip-rule='evenodd'></path>
          </svg>
          Back to Featured
        </a>
      </div>

      <AllProjects client:load projects={projects} />
    </div>
  </main>

  <Footer client:load />
</Base>

<script>
  // Simplified theme initialization
  document.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.className = savedTheme + '-mode';
  });
</script>
